version: '3.8'

services:
  hook-boost:
    build: 
      context: ./HOOK_BOOST_3.0
      dockerfile: Dockerfile
    container_name: hook-boost-bot
    restart: unless-stopped
    
    # üõ°Ô∏è BEZPIECZE≈ÉSTWO: Zmienne ≈õrodowiskowe z pliku .env
    env_file:
      - .env
    
    # üõ°Ô∏è ALTERNATYWNIE: U≈ºyj Docker secrets (zalecane dla produkcji)
    # secrets:
    #   discord_token
    #   - youtube_api_key
    #   - github_token
    
    # Wolumeny dla danych
    volumes:
      - ./data:/app/data
      - ./logs:/app/logs
    
    # üõ°Ô∏è BEZPIECZE≈ÉSTWO: Ograniczenia zasob√≥w
    deploy:
      resources:
        limits:
          memory: 512M
          cpus: '0.5'
    
    # üîí Bezpiecze≈Ñstwo sieci - tylko localhost
    networks:
      - hook-boost-net

# üõ°Ô∏è DOCKER SECRETS (dla produkcji)
# secrets:
#   discord_token:
#     external: true
#   youtube_api_key:
#     external: true
#   github_token:
#     external: true

# Sieƒá izolowana
networks:
  hook-boost-net:
    driver: bridge
    internal: false  # Ustaw na true dla pe≈Çnej izolacji

# Wolumeny trwa≈Çe
volumes:
  bot_data:
    driver: local 